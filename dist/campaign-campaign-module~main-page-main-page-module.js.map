{"version":3,"sources":["webpack:///./src/app/shared/campaign-card/campaign-card.component.html","webpack:///./src/app/shared/campaign-card/campaign-card.component.scss","webpack:///./src/app/shared/campaign-card/campaign-card.component.ts","webpack:///./src/app/shared/campaign-detail/campaign-detail.component.html","webpack:///./src/app/shared/campaign-detail/campaign-detail.component.scss","webpack:///./src/app/shared/campaign-detail/campaign-detail.component.ts","webpack:///./src/app/shared/coupon-verification/coupon-verification.component.html","webpack:///./src/app/shared/coupon-verification/coupon-verification.component.scss","webpack:///./src/app/shared/coupon-verification/coupon-verification.component.ts","webpack:///./src/app/shared/services/campaign.service.ts","webpack:///./src/app/shared/shared.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,4TAA4T,oBAAoB,glCAAglC,aAAa,mFAAmF,mBAAmB,4IAA4I,qSAAqS,2dAA2d,gBAAgB,ob;;;;;;;;;;;ACA/6E,yBAAyB,oBAAoB,EAAE,oBAAoB,kBAAkB,EAAE,gBAAgB,oBAAoB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACApC;AACU;AAErD;AACoB;AAEzB;AACwB;AACR;AAC1B;AAS/B;IAWE,+BACU,eAAgC,EAChC,MAAc,EACf,MAAiB,EACjB,aAAwB;QAHvB,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QACf,WAAM,GAAN,MAAM,CAAW;QACjB,kBAAa,GAAb,aAAa,CAAW;QAbjC,gBAAW,GAAG,KAAK,CAAC;QACpB,gBAAW,GAAG,KAAK,CAAC;QACpB,gBAAW,GAAG,KAAK,CAAC;QACpB,SAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAClB,gBAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IAUnC,CAAC;IAEJ,wCAAQ,GAAR;QACE,iDAAiD;QACjD,6BAA6B;QAC7B,IAAI;QACJ,iCAAiC;QACjC,6BAA6B;QAC7B,IAAI;QACJ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,yCAAyC;QACzC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC3B,CAAC;QACH,CAAC;IACH,CAAC;IAED,kDAAkB,GAAlB;QACE,kDAAI,CAAC;YACH,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,kCAAkC;YACxC,KAAK,EAAE,kBAAkB;SAC1B,CAAC,CAAC;IACL,CAAC;IAED,kCAAkC;IAClC,sCAAsC;IACtC,6BAA6B;IAC7B,iDAAiB,GAAjB;QACE,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8GAA2B,EAAE;YAC9D,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE;SAC9B,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,gBAAM;YACtC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAa,GAAb;QACE,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kGAAuB,EAAE;YAC1D,KAAK,EAAE,OAAO;YACd,IAAI,EAAE,IAAI,CAAC,IAAI;SAChB,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,gBAAM;YACtC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+CAAe,GAAf,UAAgB,UAAU;QACxB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;QAChD,qEAAW,CAAC,sBAAsB,GAAG,UAAU,CAAC;QAChD,qEAAW,CAAC,qBAAqB,GAAG,IAAI,CAAC;IAC3C,CAAC;IA/DD;QADC,2DAAK,EAAE;;uDACH;IATM,qBAAqB;QALjC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;;;SAG9B,CAAC;yCAa2B,0EAAe;YACxB,sDAAM;YACP,2DAAS;YACF,2DAAS;OAftB,qBAAqB,CAyEjC;IAAD,4BAAC;CAAA;AAzEiC;;;;;;;;;;;;AClBlC,wKAAwK,mBAAmB,iBAAiB,YAAY,8BAA8B,oCAAoC,iCAAiC,mCAAmC,kL;;;;;;;;;;;ACA9V,kCAAkC,iBAAiB,kBAAkB,EAAE,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCb;AACQ;AAgBlE;IACE,iCACS,SAAgD,EACvB,IAAgB;QADzC,cAAS,GAAT,SAAS,CAAuC;QACvB,SAAI,GAAJ,IAAI,CAAY;IAC/C,CAAC;IAEJ,0CAAQ,GAAR,cAAY,CAAC;IANF,uBAAuB;QALnC,+DAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;;;SAGhC,CAAC;QAIG,uEAAM,CAAC,iEAAe,CAAC;yCADN,8DAAY;OAFrB,uBAAuB,CAOnC;IAAD,8BAAC;CAAA;AAPmC;;;;;;;;;;;;AClBpC,siB;;;;;;;;;;;ACAA,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAkE;AACD;AACG;AACV;AAC3B;AAW/B;IAGE,qCACU,WAAwB,EACxB,eAAgC,EACjC,SAAoD,EAC3B,IAAgB;QAHxC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QACjC,cAAS,GAAT,SAAS,CAA2C;QAC3B,SAAI,GAAJ,IAAI,CAAY;QAEhD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC,KAAK,CAAC;YAClC,UAAU,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACtC,CAAC,CAAC;IACL,CAAC;IAED,8CAAQ,GAAR,cAAY,CAAC;IACb,sDAAgB,GAAhB;QAAA,iBAwBC;QAvBC,IAAI,CAAC,eAAe;aACjB,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;aACnE,SAAS,CACR,aAAG;YACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,kDAAI,CAAC;gBACH,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,UAAU;gBACjB,IAAI,EAAE,sBAAsB;aAC7B,CAAC,CAAC;YACH,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,EACD,aAAG;YACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACxC,kDAAI,CAAC;gBACH,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,SAAS;gBAChB,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO;aACjC,CAAC,CAAC;YAEH,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,CACF,CAAC;IACN,CAAC;IAxCU,2BAA2B;QALvC,+DAAS,CAAC;YACT,QAAQ,EAAE,yBAAyB;;;SAGpC,CAAC;QAQG,uEAAM,CAAC,iEAAe,CAAC;yCAHH,0DAAW;YACP,0EAAe;YACtB,8DAAY;OANrB,2BAA2B,CAyCvC;IAAD,kCAAC;CAAA;AAzCuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfsB;AACZ;AACK;AACZ;AAM3C;IAOE,yBAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QANpC,QAAG,GAAG,oEAAW,CAAC,GAAG,CAAC;QACtB,WAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QAClD,eAAU,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACnC,gBAAW,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QAIrC,8BAA8B;QAC9B,kCAAkC;QAClC,mCAAmC;IACrC,CAAC;IAED,uCAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAI,IAAI,CAAC,GAAG,gBAAa,CAAC,CAAC;IACjD,CAAC;IACD,yCAAe,GAAf,UAAgB,EAAE;QAChB,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC;QACvC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CACpC,IAAI,CAAC,GAAG,oBAAe,EAAE,sBAAiB,2EAAW,CAAC,YAAc,CACxE,CAAC,CAAC;IACL,CAAC;IACD,wCAAc,GAAd;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mDACT,2EAAW,CAAC,YACZ,CACH,CAAC;IACJ,CAAC;IACD,wCAAc,GAAd,UAAe,GAAG;QAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAChB,IAAI,CAAC,GAAG,gCAA2B,2EAAW,CAAC,YAAc,EAChE,GAAG,CACJ,CAAC;IACJ,CAAC;IACD,qCAAW,GAAX,UAAY,GAAG;QACb,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAChB,IAAI,CAAC,GAAG,yCAAoC,2EAAW,CAAC,YAAc,EACzE,GAAG,CACJ,CAAC;IACJ,CAAC;IAED,yCAAe,GAAf,UAAgB,EAAE;QAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mBAAc,EAAE,sBAAiB,2EAAW,CAAC,YAAc,CACvE,CAAC;IACJ,CAAC;IAED,sCAAY,GAAZ;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mBACT,IAAI,CAAC,UAAU,8CAEf,IAAI,CAAC,WAAW,qFAEhB,2EAAW,CAAC,YACZ,CACH,CAAC;IACJ,CAAC;IACD,6CAAmB,GAAnB;QACE,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAEvD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mBACT,IAAI,CAAC,UAAU,qDAEf,IAAI,CAAC,WAAW,4DAEhB,2EAAW,CAAC,YACZ,CACH,CAAC;IACJ,CAAC;IACD,6CAAmB,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mBACT,IAAI,CAAC,UAAU,8CAEf,IAAI,CAAC,WAAW,uFAEhB,2EAAW,CAAC,YACZ,CACH,CAAC;IACJ,CAAC;IAED,0CAAgB,GAAhB,UAAiB,EAAE,EAAE,IAAI;QACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CACf,IAAI,CAAC,GAAG,mBAAc,EAAE,4BAAuB,IAAM,CACzD,CAAC;IACJ,CAAC;IAzFU,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAQ0B,+DAAU;OAPzB,eAAe,CA0F3B;IAAD,sBAAC;CAAA;AA1F2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTsC;AACjB;AAC+B;AACvC;AACM;AAKpB;AAC+E;AACpB;AAmBtF;IAAA;IAA2B,CAAC;IAAf,YAAY;QAlBxB,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,kEAAgB;gBAChB,oEAAkB;gBAClB,0DAAW;gBACX,gEAAc;gBACd,kEAAmB;gBACnB,0DAAc;aACf;YACD,YAAY,EAAE;gBACZ,4FAAqB;gBACrB,qHAA2B;gBAC3B,kGAAuB;aACxB;YACD,OAAO,EAAE,CAAC,4FAAqB,CAAC;YAChC,eAAe,EAAE,CAAC,qHAA2B,EAAE,kGAAuB,CAAC;SACxE,CAAC;OACW,YAAY,CAAG;IAAD,mBAAC;CAAA;AAAH","file":"campaign-campaign-module~main-page-main-page-module.js","sourcesContent":["module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n\\n\\n    <div class=\\\"col-12\\\">\\n      <div class=\\\"card card-product\\\">\\n        <div (click)=\\\"showDetailsFn()\\\">\\n          <div class=\\\"card-header card-header-image\\\">\\n\\n            <img class=\\\"img-fluid campaignImage\\\" class=\\\"img\\\" src=\\\"{{data?.displayImage}}\\\">\\n\\n          </div>\\n          <div class=\\\"card-body\\\">\\n            <div class=\\\"card-actions text-center\\\">\\n              <!-- <button mat-raised-button type=\\\"button\\\" class=\\\"btn btn-danger btn-link fix-broken-card\\\">\\n                  <i class=\\\"material-icons\\\">build</i> Fix Header!\\n                </button>\\n                <button mat-raised-button type=\\\"button\\\" class=\\\"btn btn-default btn-link\\\" matTooltip=\\\"View\\\" [matTooltipPosition]=\\\"'below'\\\">\\n                  <i class=\\\"material-icons\\\">art_track</i>\\n                </button>\\n                <button mat-raised-button type=\\\"button\\\" class=\\\"btn btn-success btn-link\\\" matTooltip=\\\"Edit\\\" [matTooltipPosition]=\\\"'below'\\\">\\n                  <i class=\\\"material-icons\\\">edit</i>\\n                </button>\\n                <button mat-raised-button type=\\\"button\\\" class=\\\"btn btn-danger btn-link\\\" matTooltip=\\\"Remove\\\" [matTooltipPosition]=\\\"'below'\\\">\\n                  <i class=\\\"material-icons\\\">close</i>\\n                </button> -->\\n            </div>\\n            <h4 class=\\\"card-title\\\">\\n              {{data?.title}}\\n            </h4>\\n            <div class=\\\"card-description\\\">\\n              {{data?.description}}\\n            </div>\\n\\n          </div>\\n        </div>\\n        <div class=\\\"card-footer \\\">\\n          <ng-container *ngIf=\\\"rejectedBtn; else elseTemplate\\\">\\n\\n            <button style=\\\"margin: auto\\\" class=\\\"btn  \\\" *ngIf=\\\"rejectedBtn\\\" (click)=\\\"activateAgainFn(data?.id)\\\">Activate Again</button>\\n            <i matTooltip=\\\"This Campaign is Rejected\\\" *ngIf=\\\"rejectedSign\\\" class=\\\"fa fa-close\\\" style=\\\"font-size:48px;color:red\\\"></i>\\n          </ng-container>\\n          <ng-template #elseTemplate>\\n            <button (click)=\\\"verifyCoupnCodeFn()\\\" style=\\\"margin: auto\\\" class=\\\"btn btn-success verifyBtn\\\" *ngIf=\\\"data?.isApproved\\\">Verify Coupon</button>\\n\\n            <button (click)=\\\"notApprovedMessage()\\\" style=\\\"margin: auto\\\" class=\\\"btn btn-danger \\\" *ngIf=\\\"!data?.isApproved\\\">Not Approved Yet</button>\\n\\n          </ng-template>\\n\\n\\n\\n\\n        </div>\\n        <!-- <p>{{data?.endDate }}</p> -->\\n        <!-- <div class=\\\"card-footer\\\">\\n              <div class=\\\"price\\\">\\n                <h4>$459/night</h4>\\n              </div>\\n              <div class=\\\"stats\\\">\\n                <p class=\\\"card-category\\\"><i class=\\\"material-icons\\\">place</i> Milan, Italy</p>\\n              </div>\\n            </div> -->\\n      </div>\\n    </div>\\n    <!-- end col-md-12 -->\\n  </div>\\n\\n</div>\\n\\n<!-- | date: 'dd/MM/yyyy' -->\"","module.exports = \".card {\\n  cursor: pointer; }\\n\\n.campaignImage {\\n  height: 153px; }\\n\\n.verifyBtn {\\n  font-size: 15px; }\\n\"","import { CampaignDetailComponent } from './../campaign-detail/campaign-detail.component';\nimport { CouponVerificationComponent } from '../coupon-verification/coupon-verification.component';\n\nimport { MatDialog } from '@angular/material';\nimport { environment } from './../../../environments/environment';\n\nimport { Router } from '@angular/router';\nimport { CampaignService } from './../services/campaign.service';\nimport { Component, OnInit, Input } from '@angular/core';\nimport swal from 'sweetalert2';\n\ndeclare const $: any;\n\n@Component({\n  selector: 'app-campaign-card',\n  templateUrl: './campaign-card.component.html',\n  styleUrls: ['./campaign-card.component.scss']\n})\nexport class CampaignCardComponent implements OnInit {\n  rejectedSign;\n  rejectedBtn = false;\n  archivedBtn = false;\n  btnArchived = false;\n  date = new Date();\n  currentDate = this.date.toISOString();\n  campaignId: String;\n  @Input()\n  data;\n\n  constructor(\n    private campaignService: CampaignService,\n    private router: Router,\n    public dialog: MatDialog,\n    public detailsDialog: MatDialog\n  ) {}\n\n  ngOnInit() {\n    // if (this.data['endDate'] < this.currentDate) {\n    //   this.btnArchived = true;\n    // }\n    // if (this.data['isRejected']) {\n    //   this.rejectedBtn = true;\n    // }\n    this.campaignId = this.data['id'];\n    // console.log('idddd', this.camapignId);\n    if (this.data['endDate'] < this.currentDate || this.data['isRejected']) {\n      this.rejectedBtn = true;\n      if (this.data['isRejected']) {\n        this.rejectedSign = true;\n      }\n    }\n  }\n\n  notApprovedMessage() {\n    swal({\n      type: 'error',\n      text: 'Not Approved yet, Contact admins',\n      title: 'Not Approved Yet'\n    });\n  }\n\n  // verifyCoupnCodeFn(campaignId) {\n  //   console.log('-----------------');\n  //   console.log(campaignId);\n  verifyCoupnCodeFn(): void {\n    const dialogRef = this.dialog.open(CouponVerificationComponent, {\n      width: '500px',\n      data: { id: this.campaignId }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n    });\n  }\n\n  showDetailsFn(): void {\n    const dialogRef = this.dialog.open(CampaignDetailComponent, {\n      width: '500px',\n      data: this.data\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      console.log('The dialog was closed');\n    });\n  }\n\n  activateAgainFn(campaignId) {\n    this.router.navigate(['/main/campaign/create']);\n    environment.campaignIdToReActivate = campaignId;\n    environment.navigatedFromArchived = true;\n  }\n}\n","module.exports = \"<div class=\\\"md-dialog-container\\\">\\n  <form class=\\\"text-center\\\">\\n\\n    <mat-dialog-content>\\n      <img class=\\\"img-fluid campaignImage\\\" src=\\\"{{data.displayImage}}\\\">\\n      <h3>{{data.title}}</h3>\\n      <p>Start Date: {{data.startDate| date: 'dd/MM/yyyy'}}</p><br>\\n\\n      <p>End Date: {{data.endDate | date: 'dd/MM/yyyy'}}</p>\\n      <hr>\\n\\n    </mat-dialog-content>\\n    <mat-dialog-actions>\\n\\n      <button mat-button mat-dialog-close>Close</button>\\n    </mat-dialog-actions>\\n  </form>\\n</div>\"","module.exports = \".campaignImage {\\n  width: 400px;\\n  height: 300px; }\\n\"","import { TimelineRoutes } from './../../timeline/timeline.routing';\nimport { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\n\nexport interface DialogData {\n  title: any;\n  displayImage: any;\n  description: any;\n  termsAndConditions: any;\n  endDate: any;\n  startDate: any;\n}\n\n@Component({\n  selector: 'app-campaign-detail',\n  templateUrl: './campaign-detail.component.html',\n  styleUrls: ['./campaign-detail.component.scss']\n})\nexport class CampaignDetailComponent implements OnInit {\n  constructor(\n    public dialogRef: MatDialogRef<CampaignDetailComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData\n  ) {}\n\n  ngOnInit() {}\n}\n","module.exports = \"<div class=\\\"md-dialog-container\\\">\\n  <form class=\\\"text-center\\\" [formGroup]=\\\"verifyForm\\\">\\n    <h2>Coupon code Verification</h2>\\n    <mat-dialog-content>\\n      <input type=\\\"text\\\" placeholder=\\\"Enter Coupon Code\\\" formControlName=\\\"couponCode\\\">\\n    </mat-dialog-content>\\n    <mat-dialog-actions>\\n\\n\\n      <button mat-raised-button (click)=\\\"verifyCouponCode()\\\" class=\\\"btn btn-success\\\">Verify\\n      </button>\\n\\n      <button mat-button mat-dialog-close>cancel</button>\\n    </mat-dialog-actions>\\n  </form>\\n</div>\"","module.exports = \"\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { CampaignService } from './../services/campaign.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Component, OnInit, Inject } from '@angular/core';\nimport swal from 'sweetalert2';\n\nexport interface DialogData {\n  id: string;\n}\n\n@Component({\n  selector: 'app-coupon-verification',\n  templateUrl: './coupon-verification.component.html',\n  styleUrls: ['./coupon-verification.component.scss']\n})\nexport class CouponVerificationComponent implements OnInit {\n  verifyForm: FormGroup;\n  cId: string;\n  constructor(\n    private formBuilder: FormBuilder,\n    private campaignService: CampaignService,\n    public dialogRef: MatDialogRef<CouponVerificationComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData\n  ) {\n    this.cId = data.id;\n    this.verifyForm = formBuilder.group({\n      couponCode: ['', Validators.required]\n    });\n  }\n\n  ngOnInit() {}\n  verifyCouponCode() {\n    this.campaignService\n      .verifyCouponCode(this.cId, this.verifyForm.get('couponCode').value)\n      .subscribe(\n        res => {\n          console.log(res);\n          swal({\n            type: 'success',\n            title: 'Verified',\n            text: 'Coupon Code is Valid'\n          });\n          this.verifyForm.get('couponCode').setValue('');\n        },\n        err => {\n          console.log(err['error'].error.message);\n          swal({\n            type: 'error',\n            title: 'Oops...',\n            text: err['error'].error.message\n          });\n\n          this.verifyForm.get('couponCode').setValue('');\n        }\n      );\n  }\n}\n","import { SharedClass } from 'app/shared/services/SharedClass';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CampaignService {\r\n  url = environment.url;\r\n  object = JSON.parse(localStorage.getItem('user'));\r\n  merchantId = this.object['userId'];\r\n  currentDate = new Date().toISOString();\r\n  categoryName: any;\r\n\r\n  constructor(private http: HttpClient) {\r\n    // console.log('------------')\r\n    // console.log(this.access_token);\r\n    // console.log('-----------------')\r\n  }\r\n\r\n  getCategories(): Observable<object> {\r\n    return this.http.get(`${this.url}/Categories`);\r\n  }\r\n  getCategoryById(id): Observable<object> {\r\n    console.log('this is campaign id', id);\r\n    return (this.categoryName = this.http.get(\r\n      `${this.url}/Categories/${id}?access_token=${SharedClass.access_token}`\r\n    ));\r\n  }\r\n  getAmbassadors(): Observable<object> {\r\n    return this.http.get(\r\n      `${this.url}/Uninamausers/get-ambassadors?access_token=${\r\n        SharedClass.access_token\r\n      }`\r\n    );\r\n  }\r\n  createCampaign(obj): Observable<Object> {\r\n    return this.http.post(\r\n      `${this.url}/Campaigns?access_token=${SharedClass.access_token}`,\r\n      obj\r\n    );\r\n  }\r\n  uploadImage(obj): Observable<Object> {\r\n    return this.http.post(\r\n      `${this.url}/Attachments/upload?access_token=${SharedClass.access_token}`,\r\n      obj\r\n    );\r\n  }\r\n\r\n  getCampaignById(id): Observable<Object> {\r\n    return this.http.get(\r\n      `${this.url}/Campaigns/${id}?access_token=${SharedClass.access_token}`\r\n    );\r\n  }\r\n\r\n  getCampaigns(): Observable<Object> {\r\n    console.log(this.merchantId);\r\n    return this.http.get(\r\n      `${this.url}/Merchants/${\r\n        this.merchantId\r\n      }/campaigns?filter[where][endDate][gt]=${\r\n        this.currentDate\r\n      }&filter[where][isApproved]=true&filter[where][isRejected]=false&access_token=${\r\n        SharedClass.access_token\r\n      }`\r\n    );\r\n  }\r\n  getArchiveCampaigns(): Observable<Object> {\r\n    console.log('current date variable', this.currentDate);\r\n\r\n    return this.http.get(\r\n      `${this.url}/Merchants/${\r\n        this.merchantId\r\n      }/campaigns?filter[where][or][0][endDate][lt]=${\r\n        this.currentDate\r\n      }&filter[where][or][1][isRejected]=true&access_token=${\r\n        SharedClass.access_token\r\n      }`\r\n    );\r\n  }\r\n  getPendingCampaigns(): Observable<Object> {\r\n    return this.http.get(\r\n      `${this.url}/Merchants/${\r\n        this.merchantId\r\n      }/campaigns?filter[where][endDate][gt]=${\r\n        this.currentDate\r\n      }&filter[where][isApproved]=false&filters[where][isRejected]=false&access_token=${\r\n        SharedClass.access_token\r\n      }`\r\n    );\r\n  }\r\n\r\n  verifyCouponCode(id, code): Observable<Object> {\r\n    return this.http.get(\r\n      `${this.url}/Campaigns/${id}/verify-coupon?code=${code}`\r\n    );\r\n  }\r\n}\r\n","import { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { MaterialModule } from './../app.module';\r\nimport { CampaignCardComponent } from './campaign-card/campaign-card.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  MatTooltipModule,\r\n  MatFormFieldModule,\r\n  MatInputModule\r\n} from '@angular/material';\r\nimport { CouponVerificationComponent } from '../shared/coupon-verification/coupon-verification.component';\r\nimport { CampaignDetailComponent } from './campaign-detail/campaign-detail.component';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTooltipModule,\r\n    MatFormFieldModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule\r\n  ],\r\n  declarations: [\r\n    CampaignCardComponent,\r\n    CouponVerificationComponent,\r\n    CampaignDetailComponent\r\n  ],\r\n  exports: [CampaignCardComponent],\r\n  entryComponents: [CouponVerificationComponent, CampaignDetailComponent]\r\n})\r\nexport class SharedModule {}\r\n"],"sourceRoot":""}